{"ast":null,"code":"import shap from 'shap';\nexport default {\n  data() {\n    return {\n      shapHtml: ''\n    };\n  },\n  mounted() {\n    // 计算 shap 值\n    const explainer = shap.TreeExplainer(this.model);\n    const shapValues = explainer.shap_values(this.X);\n\n    // 选择要画力图的样本\n    const sampleIdx = 0;\n\n    // 生成 HTML 文件\n    // this.shapHtml = shap.force_plot_html(\n    //   explainer.expected_value[1],\n    //   shapValues[1][sampleIdx],\n    //   this.X[sampleIdx],\n    //   this.featureNames\n    // )\n    this.shapHtml = \"<p>hhhhhh</p>\";\n    console.log(shapHtml);\n  }\n};","map":{"version":3,"names":["shap","data","shapHtml","mounted","explainer","TreeExplainer","model","shapValues","shap_values","X","sampleIdx","console","log"],"sources":["src/views/Index/Front/Feedback/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"feedback maxWH\">\r\n        <!-- 头部 -->\r\n        <div class=\"header flex\">\r\n            <span class=\"title\">问题反馈</span>\r\n        </div>\r\n        <!-- 主体 -->\r\n        <main class=\"main\">\r\n            <div v-html=\"shapHtml\">\r\n\r\n            </div> \r\n        </main>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport shap from 'shap'\r\nexport default {\r\n    data() {\r\n    return {\r\n      shapHtml: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    // 计算 shap 值\r\n    const explainer = shap.TreeExplainer(this.model)\r\n    const shapValues = explainer.shap_values(this.X)\r\n\r\n    // 选择要画力图的样本\r\n    const sampleIdx = 0\r\n\r\n    // 生成 HTML 文件\r\n    // this.shapHtml = shap.force_plot_html(\r\n    //   explainer.expected_value[1],\r\n    //   shapValues[1][sampleIdx],\r\n    //   this.X[sampleIdx],\r\n    //   this.featureNames\r\n    // )\r\n    this.shapHtml=\"<p>hhhhhh</p>\"\r\n    console.log(shapHtml)\r\n  },\r\n    \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header {\r\n    width: 100%;\r\n    height: 100px;\r\n    background-color: #324057;\r\n    box-sizing: border-box;\r\n    padding: 50px 20% 10px;\r\n    overflow: hidden;\r\n\r\n    .title {\r\n        font-size: 25px;\r\n        color: #fff;\r\n    }\r\n}\r\n\r\n.main {\r\n    width: 100%;\r\n    height: calc(100% - 100px);\r\n    box-sizing: border-box;\r\n    padding: 50px 20% 0;\r\n\r\n    .intro {\r\n        p {\r\n            font-size: 18px;\r\n        }\r\n    }\r\n\r\n    .from {\r\n        box-sizing: border-box;\r\n        padding: 50px 20% 0;\r\n    }\r\n}\r\n</style>"],"mappings":"AAgBA,OAAAA,IAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,MAAAC,SAAA,GAAAJ,IAAA,CAAAK,aAAA,MAAAC,KAAA;IACA,MAAAC,UAAA,GAAAH,SAAA,CAAAI,WAAA,MAAAC,CAAA;;IAEA;IACA,MAAAC,SAAA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,KAAAR,QAAA;IACAS,OAAA,CAAAC,GAAA,CAAAV,QAAA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}