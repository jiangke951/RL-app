{"ast":null,"code":"// 对axios进行二次封装\nimport axios from 'axios';\n// 引入加载动画\nimport { Loading } from 'element-ui';\n\n// 定义加载变量\nlet loading;\n// 开始加载\nfunction startLoading() {\n  loading = Loading.service({\n    lock: true,\n    text: '加载中~',\n    background: 'rgba(0,0,0,0.7)'\n  });\n}\n// 结束加载\nfunction endLoading() {\n  loading.close();\n}\n\n// 创建axios实例\nconst requests = axios.create({\n  baseURL: '/api',\n  timeout: 20000\n});\n\n// 请求拦截器\nrequests.interceptors.request.use(config => {\n  startLoading();\n  return config;\n});\n\n// 响应拦截器\nrequests.interceptors.response.use(res => {\n  endLoading();\n  return res;\n}, err => {\n  endLoading();\n  return Promise.reject(new Error(err));\n});\nexport default requests;","map":{"version":3,"names":["axios","Loading","loading","startLoading","service","lock","text","background","endLoading","close","requests","create","baseURL","timeout","interceptors","request","use","config","response","res","err","Promise","reject","Error"],"sources":["/Users/jiangke/PycharmProjects/RL-app/src/api/axios.js"],"sourcesContent":["// 对axios进行二次封装\r\nimport axios from 'axios'\r\n// 引入加载动画\r\nimport { Loading } from 'element-ui'\r\n\r\n// 定义加载变量\r\nlet loading\r\n// 开始加载\r\nfunction startLoading() {\r\n    loading = Loading.service({\r\n        lock: true,\r\n        text: '加载中~',\r\n        background: 'rgba(0,0,0,0.7)'\r\n    })\r\n}\r\n// 结束加载\r\nfunction endLoading() {\r\n    loading.close()\r\n}\r\n\r\n// 创建axios实例\r\nconst requests = axios.create({\r\n    baseURL: '/api',\r\n    timeout: 20000\r\n})\r\n\r\n// 请求拦截器\r\nrequests.interceptors.request.use(config => {\r\n    startLoading()\r\n    return config\r\n})\r\n\r\n// 响应拦截器\r\nrequests.interceptors.response.use(\r\n    res => {\r\n        endLoading()\r\n        return res\r\n    },\r\n    err => {\r\n        endLoading()\r\n        return Promise.reject(new Error(err))\r\n    }\r\n)\r\n\r\nexport default requests"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,SAASC,OAAO,QAAQ,YAAY;;AAEpC;AACA,IAAIC,OAAO;AACX;AACA,SAASC,YAAYA,CAAA,EAAG;EACpBD,OAAO,GAAGD,OAAO,CAACG,OAAO,CAAC;IACtBC,IAAI,EAAE,IAAI;IACVC,IAAI,EAAE,MAAM;IACZC,UAAU,EAAE;EAChB,CAAC,CAAC;AACN;AACA;AACA,SAASC,UAAUA,CAAA,EAAG;EAClBN,OAAO,CAACO,KAAK,CAAC,CAAC;AACnB;;AAEA;AACA,MAAMC,QAAQ,GAAGV,KAAK,CAACW,MAAM,CAAC;EAC1BC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;AACb,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACxCd,YAAY,CAAC,CAAC;EACd,OAAOc,MAAM;AACjB,CAAC,CAAC;;AAEF;AACAP,QAAQ,CAACI,YAAY,CAACI,QAAQ,CAACF,GAAG,CAC9BG,GAAG,IAAI;EACHX,UAAU,CAAC,CAAC;EACZ,OAAOW,GAAG;AACd,CAAC,EACDC,GAAG,IAAI;EACHZ,UAAU,CAAC,CAAC;EACZ,OAAOa,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAACH,GAAG,CAAC,CAAC;AACzC,CACJ,CAAC;AAED,eAAeV,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}