{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nimport { user_identity_admin, user_identity_user } from '@/config';\nimport LineChart1 from '../../Home/LineChart1';\nimport LineChart2 from '../../Home/LineChart2';\nimport LineChart3 from '../../Home/LineChart3';\nimport LineChart4 from '../../Home/LineChart4';\nimport PieChart from '../../Home//PieChart';\nimport HeatMap from '../../Home//HeatMap';\nimport ScatterMap from '../../Home//ScatterMap';\nimport ShadowChart from '../../Home//ShadowChart';\nexport default {\n  name: 'Home',\n  components: {\n    LineChart1,\n    PieChart,\n    LineChart2,\n    LineChart3,\n    HeatMap,\n    ScatterMap,\n    ShadowChart,\n    LineChart4\n  },\n  data() {\n    return {\n      user_identity_admin: user_identity_admin,\n      user_identity_user: user_identity_user\n    };\n  },\n  computed: {\n    ...mapGetters(['identity', 'echarts_info', 'get_time_arr', 'get_time_val_arr', 'get_time_dict', 'userinfo', 'testdetail', 'echarts_list']),\n    getUsername() {\n      return this.userinfo.username;\n    },\n    getEpisodes() {\n      return this.userinfo.username;\n    }\n  },\n  mounted() {\n    this.getEchartsList();\n  },\n  created() {\n    //   this.fetchData();  \n    this.$watch(() => this.$route.params, (toParams, previousParams) => {\n      // 当$route.params发生变化时，执行操作  \n      if (toParams !== previousParams) {\n        // 执行this.$router.push  \n\n        // 执行this.getEchartsList()  \n        this.getEchartsList();\n        //   location.reload()\n      }\n    });\n  },\n\n  methods: {\n    // 路由判断\n    getFrontPath(path) {\n      let href = this.$route.path;\n      if (href.includes('front')) {\n        return path;\n      } else {\n        return 'front/' + path;\n      }\n    },\n    // 去哪个页面\n    goPath1(path, test_detail_id, episode_id) {\n      // this.$router.push(this.getFrontPath(path))\n\n      this.$router.replace({\n        path: path,\n        query: {\n          test_detail_id: test_detail_id,\n          episode_id: episode_id\n        }\n      });\n      // this.getEchartsList()\n    },\n\n    goPath(path) {\n      this.$router.push(this.getFrontPath(path));\n      // this.$router.push({path:path,query:{parent_id:id}});\n    },\n\n    // 去个人信息页\n    goUserPath(path) {\n      this.$refs.frontHeadNav.activeIndex = null;\n      this.goPath(path);\n    },\n    async getEchartsList() {\n      let data = {};\n      data.test_detail_id = this.$route.query.test_detail_id;\n      data.episode_id = this.$route.query.episode_id;\n      try {\n        await this.$store.dispatch('getEchartsList', data);\n      } catch (e) {\n        console.warn(e.message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","user_identity_admin","user_identity_user","LineChart1","LineChart2","LineChart3","LineChart4","PieChart","HeatMap","ScatterMap","ShadowChart","name","components","data","computed","getUsername","userinfo","username","getEpisodes","mounted","getEchartsList","created","$watch","$route","params","toParams","previousParams","methods","getFrontPath","path","href","includes","goPath1","test_detail_id","episode_id","$router","replace","query","goPath","push","goUserPath","$refs","frontHeadNav","activeIndex","$store","dispatch","e","console","warn","message"],"sources":["src/views/Index/Front/EpisodeInfo/index.vue"],"sourcesContent":["<template>\n    <div class=\"home maxWH\">\n        <div class=\"back-home maxWH clearfix\" >\n            <!-- 头部 -->\n            <div class=\"head-nav-f fixed\">\n\n                <div class=\"userinfo flex-center\">\n                        <!-- <img src=\"../../assets/avatar.gif\" alt=\"avatar\" class=\"avatar\"> -->\n                        <!-- 下拉菜单 -->\n                        <span class=\"drop-down-list\">\n                            <el-dropdown>\n                                <span class=\"el-dropdown-link\" style=\"color: #fff;\">\n                                    <span class=\"username text-ellipsis\">{{ getUsername }}</span>\n                                \n                                    <i class=\"el-icon-arrow-down el-icon--right\"></i>\n                                </span>\n                                <el-dropdown-menu slot=\"dropdown\" >\n                                    \n                                    <!-- <el-select v-model=\"searchForm.user_status\" placeholder=\"请选择实验状态\">\n                                        <el-option v-for=\"us in user_status\" :key=\"us.value\" :label=\"us.label\" :value=\"us.value\">\n                                        </el-option>\n                                     </el-select> -->\n\n\n\n                                    <el-dropdown-item v-for=\"item in testdetail[0].episode\"  @click.native.prevent.stop=\"goPath1('episodeinfo',testdetail[0].test_id,item)\" >\n                                      <!-- {{ testdetail[0].test_id }} -->\n                                        episode：{{ item }}\n                                    </el-dropdown-item>\n                                   \n                                    <!-- <el-dropdown-item v-for=\"us in testdetail\"  @click.native.prevent.stop=\"goPath('reserveinfo',2)\"\n                                        >\n                                        {{ us}}\n                                    </el-dropdown-item> -->\n                                    \n\n                                    <!-- <el-dropdown-item\n                                        @click.native.prevent.stop=\"goUserPath('fmyinfo')\">查看实验</el-dropdown-item>\n                                    <el-dropdown-item @click.native.prevent.stop=\"logout\">退出</el-dropdown-item> -->\n                                </el-dropdown-menu>\n                            </el-dropdown>\n                        </span>\n                    </div>\n            </div>\n            <div class=\"head-nav-e fixed \"> \n                    <input type=\"number\"  v-model=\"episodeInput\" placeholder=\"请输入指定episode\" class=\"blue-border\">  \n                    <button @click.prevent.stop=\"goPath1('episodeinfo',testdetail[0].test_id,episodeInput)\">查看</button> \n                   \n                \n            </div>\n            <div class=\"header flex-center\">\n\n                <!-- 左侧两个卡片 -->\n                <div class=\"left-card flex-center\">\n                   \n                        \n                    <div class=\"title flex-center\">\n                            <span>环境状态</span>\n                    </div>\n                        <LineChart4 :testdetail_id=\"estdetail[0].test_id\":episodeInput=\"episodeInput\"></LineChart4>\n                        <div class=\"title flex-center\">\n                        <!-- <span>动作选择</span> -->\n                        </div>\n                        <ScatterMap :echarts_info=\"echarts_list\"></ScatterMap>\n                        <span class=\"text\">横坐标：step；纵坐标：0代表向左，1代表向右,对应每一步的动作选择</span>\n                         \n                </div>\n                  <!-- 右侧两个卡片 -->\n                <div class=\"right-card flex-center\">\n                    <!-- <div class=\"title flex-center\">\n                            <span>shap</span>\n                        </div>\n                        <ShadowChart :echarts_info=\"echarts_list\"></ShadowChart> -->\n                        <!-- <div class=\"title flex-center\">\n                            <span>价值函数</span>\n                        </div> -->\n                        <LineChart1 :echarts_info=\"echarts_list\"></LineChart1>\n                        <span class=\"text\">横坐标：step；纵坐标：对应每个状态的长期价值</span>\n                            <!-- <div class=\"title flex-center\">\n                            \n                                <span>Q值函数</span>\n                            </div> -->\n                            <HeatMap :echarts_info=\"echarts_list\"></HeatMap>\n                            <span class=\"text\">横坐标：step；纵坐标：0代表向左，1代表向右,对应方块颜色深浅及具体数值代表当前step的Q值</span>\n                   \n                </div>\n                \n            </div>\n            <!-- 底部 -->\n            <div class=\"floor flex-center\">\n               \n                <!-- 奖励信号 -->\n                <div class=\"left-line\">\n                    <LineChart2 :echarts_info=\"echarts_list\"></LineChart2>\n                    <span class=\"text title\">横坐标：episode；纵坐标：奖励值</span>\n                </div>\n                <!-- 学习曲线 -->\n                <div class=\"left-line\">\n                    <LineChart3 :echarts_info=\"echarts_list\"></LineChart3>\n                    <span class=\"text\">横坐标：episode；纵坐标：损失值</span>\n                </div>\n                \n\n\n            </div>\n            <div class=\"floor \">\n               \n               <div class=\"title flex-center\">\n               <!-- <span>shap</span> -->\n                </div>\n               <ShadowChart :echarts_info=\"echarts_list\"></ShadowChart>\n                       \n               \n           </div>\n        </div>\n        \n    </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { user_identity_admin, user_identity_user } from '@/config'\nimport LineChart1 from '../../Home/LineChart1'\nimport LineChart2 from '../../Home/LineChart2'\nimport LineChart3 from '../../Home/LineChart3'\nimport LineChart4 from '../../Home/LineChart4'\nimport PieChart from '../../Home//PieChart'\nimport HeatMap from '../../Home//HeatMap'\nimport ScatterMap from '../../Home//ScatterMap'\nimport ShadowChart from '../../Home//ShadowChart'\nexport default {\n    name: 'Home',\n    components: { LineChart1, PieChart ,LineChart2,LineChart3,HeatMap,ScatterMap,ShadowChart,LineChart4},\n    data() {\n     \n        return {\n            user_identity_admin: user_identity_admin,\n            user_identity_user: user_identity_user,\n        }\n    },\n   \n    computed: {\n        ...mapGetters(['identity', 'echarts_info', 'get_time_arr', 'get_time_val_arr', 'get_time_dict','userinfo','testdetail','echarts_list']),\n        getUsername() {\n            return this.userinfo.username\n        },\n        getEpisodes() {\n            return this.userinfo.username\n        },\n    },\n    mounted() {\n    this.getEchartsList();\n    \n\n  },\n  created() {  \n//   this.fetchData();  \n  this.$watch(  \n  () => this.$route.params,  \n  (toParams, previousParams) => {  \n    // 当$route.params发生变化时，执行操作  \n    if (toParams !== previousParams) {  \n      // 执行this.$router.push  \n      \n    \n      // 执行this.getEchartsList()  \n      this.getEchartsList();  \n    //   location.reload()\n      \n      \n    }  \n  }  \n);\n}, \n    methods: {\n\n        \n        // 路由判断\n        getFrontPath(path) {\n            let href = this.$route.path\n            if (href.includes('front')) {\n                return path\n            } else {\n                return 'front/' + path\n            }\n        },\n        // 去哪个页面\n        goPath1(path,test_detail_id,episode_id) {\n            \n            // this.$router.push(this.getFrontPath(path))\n            \n            this.$router.replace({path:path,query:{test_detail_id:test_detail_id,episode_id:episode_id}});\n            // this.getEchartsList()\n        },\n        goPath(path) {\n            this.$router.push(this.getFrontPath(path))\n            // this.$router.push({path:path,query:{parent_id:id}});\n        },\n      \n         // 去个人信息页\n         goUserPath(path) {\n            this.$refs.frontHeadNav.activeIndex = null\n            this.goPath(path)\n        },\n        async getEchartsList() {\n            let data = {};  \n  \n            data.test_detail_id = this.$route.query.test_detail_id;  \n            data.episode_id = this.$route.query.episode_id;\n            \n            try {\n                await this.$store.dispatch('getEchartsList', data)\n                  \n                \n            } catch (e) {\n                console.warn(e.message)\n            }\n        },\n       \n      \n\n    },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.back-home {\n    box-sizing: border-box;\n    padding: .1rem;\n\n    .header {\n        margin-top:80px;\n        width: 100%;\n        height: 100%;\n        justify-content: space-between;\n        \n       \n        .left-card {\n            width: 40%;\n            height: 100%;\n            flex-flow: column;\n            justify-content: space-between;\n\n            .box-card {\n                width: 100%;\n                height: 100%;\n\n                .title {\n                    font-size: .13rem;\n                    color: rgb(160, 180, 180);\n                    justify-content: space-between;\n                }\n\n               \n            }\n        }\n\n        .right-card {\n            width: 60%;\n            height: 100%;\n            flex-flow: column;\n            justify-content: space-between;\n\n            .box-card {\n                width: 100%;\n                height: 100%;\n\n                .title {\n                    font-size: .13rem;\n                    color: rgb(160, 180, 180);\n                    justify-content: space-between;\n                }\n\n                .info {\n                    font-size: .22rem;\n                }\n            }\n        }\n    }\n\n    .floor {\n        width: 100%;\n        height: 55%;\n        margin-top: 2%;\n        // border-radius: .05rem;\n        // box-shadow: 0 0 .1rem rgba(0, 0, 0, .1);\n        justify-content: space-between;\n        .left-line {\n            width: 70%;\n            height: 100%;\n            box-sizing: border-box;\n            padding: .1rem;\n            justify-content: center;\n\n             .title {\n                justify-content: center;\n            }\n        }\n\n        .right-ranking {\n            width: 30%;\n            height: 100%;\n            box-sizing: border-box;\n            padding: .1rem .1rem .1rem 0;\n\n            .ranking-title {\n                font-size: .1rem;\n            }\n\n            .ranking-list {\n                box-sizing: border-box;\n                padding-top: .1rem;\n                width: 100%;\n\n                .ranking-item {\n                    width: 100%;\n                    font-size: .1rem;\n                    box-sizing: border-box;\n                    padding-bottom: .1rem;\n\n                    .item-num {\n                        width: 15%;\n\n                        span {\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            width: .13rem;\n                            height: .13rem;\n                        }\n\n                        .radius {\n                            color: #fff;\n                            border-radius: 50%;\n                            background-color: #333;\n                        }\n                    }\n\n                    .item-floor {\n                        width: 50%;\n                    }\n\n                    .item-count {\n                        width: 35%;\n                    }\n                }\n            }\n\n        }\n    }\n}\n\n.front-home {\n    box-sizing: border-box;\n    padding: 10px;\n    flex-flow: column;\n    // justify-content: space-evenly;\n\n    .title {\n        font-size: 50px;\n        color: #555;\n        font-weight: 900;\n    }\n\n    .intro {\n        margin: 50px 0;\n        font-size: 18px;\n        flex-flow: column;\n    }\n}\n.head-nav-f {\n    z-index: 1;\n    width: 10%;\n    height: 50px;\n    min-width: 100px;\n    box-sizing: border-box;\n    padding: 5px 10px;\n    background: #324057;\n    color: #fff;\n    // border-bottom: 1px solid #1f2d3d;\n    overflow: hidden;\n    margin-top: 61px;\n   \n\n\n}\n.head-nav-e {\n    z-index: 1;\n    width: 12%;\n    height: 50px;\n    min-width: 100px;\n    box-sizing: border-box;\n    padding: 5px 20px 10px 10px;\n    background: #324057;\n    color: #fff;\n    // border-bottom: 1px solid #1f2d3d;\n    overflow: hidden;\n    margin-left: 150px;\n    margin-top: 61px;\n    font-size:14px;\n    display:inline-block\n}\n.text{\n    font-size:12px;\n    padding-top:3px;\n    \n}\n.blue-border {  \n  border: 1px solid #409EFF;  \n}\n</style>"],"mappings":";AAwHA,SAAAA,UAAA;AACA,SAAAC,mBAAA,EAAAC,kBAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA,OAAAC,QAAA;AACA,OAAAC,OAAA;AACA,OAAAC,UAAA;AACA,OAAAC,WAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAT,UAAA;IAAAI,QAAA;IAAAH,UAAA;IAAAC,UAAA;IAAAG,OAAA;IAAAC,UAAA;IAAAC,WAAA;IAAAJ;EAAA;EACAO,KAAA;IAEA;MACAZ,mBAAA,EAAAA,mBAAA;MACAC,kBAAA,EAAAA;IACA;EACA;EAEAY,QAAA;IACA,GAAAd,UAAA;IACAe,YAAA;MACA,YAAAC,QAAA,CAAAC,QAAA;IACA;IACAC,YAAA;MACA,YAAAF,QAAA,CAAAC,QAAA;IACA;EACA;EACAE,QAAA;IACA,KAAAC,cAAA;EAGA;EACAC,QAAA;IACA;IACA,KAAAC,MAAA,CACA,WAAAC,MAAA,CAAAC,MAAA,EACA,CAAAC,QAAA,EAAAC,cAAA;MACA;MACA,IAAAD,QAAA,KAAAC,cAAA;QACA;;QAGA;QACA,KAAAN,cAAA;QACA;MAGA;IACA,CACA;EACA;;EACAO,OAAA;IAGA;IACAC,aAAAC,IAAA;MACA,IAAAC,IAAA,QAAAP,MAAA,CAAAM,IAAA;MACA,IAAAC,IAAA,CAAAC,QAAA;QACA,OAAAF,IAAA;MACA;QACA,kBAAAA,IAAA;MACA;IACA;IACA;IACAG,QAAAH,IAAA,EAAAI,cAAA,EAAAC,UAAA;MAEA;;MAEA,KAAAC,OAAA,CAAAC,OAAA;QAAAP,IAAA,EAAAA,IAAA;QAAAQ,KAAA;UAAAJ,cAAA,EAAAA,cAAA;UAAAC,UAAA,EAAAA;QAAA;MAAA;MACA;IACA;;IACAI,OAAAT,IAAA;MACA,KAAAM,OAAA,CAAAI,IAAA,MAAAX,YAAA,CAAAC,IAAA;MACA;IACA;;IAEA;IACAW,WAAAX,IAAA;MACA,KAAAY,KAAA,CAAAC,YAAA,CAAAC,WAAA;MACA,KAAAL,MAAA,CAAAT,IAAA;IACA;IACA,MAAAT,eAAA;MACA,IAAAP,IAAA;MAEAA,IAAA,CAAAoB,cAAA,QAAAV,MAAA,CAAAc,KAAA,CAAAJ,cAAA;MACApB,IAAA,CAAAqB,UAAA,QAAAX,MAAA,CAAAc,KAAA,CAAAH,UAAA;MAEA;QACA,WAAAU,MAAA,CAAAC,QAAA,mBAAAhC,IAAA;MAGA,SAAAiC,CAAA;QACAC,OAAA,CAAAC,IAAA,CAAAF,CAAA,CAAAG,OAAA;MACA;IACA;EAIA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}